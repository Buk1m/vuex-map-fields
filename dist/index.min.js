!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self)["vuex-map-fields"]={})}(this,function(t){"use strict";function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,u=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){i=!0,u=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,e){var n=e.split(".").slice(-1)[0];if(t[n])throw new Error("The key `".concat(n,"` is already in use."));return t[n]=e,t},{})}function i(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var u=n("string"==typeof r[0]?[].concat(r):[""].concat(r),4),c=u[0],o=u[1],a=u[2],f=u[3];return c.length&&"/"!==c.charAt(c.length-1)&&(c+="/"),a="".concat(c).concat(a||"getField"),f="".concat(c).concat(f||"updateField"),t(c,o,a,f)}}function u(t){return function(e){return e.split(/[.[\]]+/).reduce(function(t,e){return t[e]},t)}}function c(t,e){var n=e.path,r=e.value;n.split(/[.[\]]+/).reduce(function(t,e,n,i){return i.length===n+1&&(t[e]=r),t[e]},t)}var o=i(function(t,e,n,i){var u=Array.isArray(e)?r(e):e;return Object.keys(u).reduce(function(t,e){var r=u[e],c={get:function(){return this.$store.getters[n](r)},set:function(t){this.$store.commit(i,{path:r,value:t})}};return t[e]=c,t},{})}),a=i(function(t,e,n,i){var u=Array.isArray(e)?r(e):e;return Object.keys(u).reduce(function(t,e){var r=u[e];return t[e]={get:function(){var t,e=this.$store;return(t=e.getters[n](r),Object.keys(t).map(function(e){return[e,t[e]]})).map(function(t){return Object.keys(t[1]).reduce(function(u,c){var o="".concat(r,"[").concat(t[0],"].").concat(c);return Object.defineProperty(u,c,{get:function(){return e.getters[n](o)},set:function(t){e.commit(i,{path:o,value:t})}})},{})})}},t},{})});t.createHelpers=function(t){var n,r=t.getterType,f=t.mutationType;return e(n={},r,u),e(n,f,c),e(n,"mapFields",i(function(t,e){return o(t,e,r,f)})),e(n,"mapMultiRowFields",i(function(t,e){return a(t,e,r,f)})),n},t.getField=u,t.mapFields=o,t.mapFieldsDynamically=function(t,e,n,i){var u=Array.isArray(e)?r(e):e;return Object.keys(u).reduce(function(e,r){var c=u[r],o={get:function(){var e=t.bind(this)();e.length&&"/"!==e.charAt(e.length-1)&&(e+="/");var r="".concat(e).concat(n||"getField");return this.$store.getters[r](c)},set:function(e){var n=t.bind(this)();n.length&&"/"!==n.charAt(n.length-1)&&(n+="/");var r="".concat(n).concat(i||"updateField");this.$store.commit(r,{path:c,value:e})}};return e[r]=o,e},{})},t.mapMultiRowFields=a,t.updateField=c,Object.defineProperty(t,"__esModule",{value:!0})});